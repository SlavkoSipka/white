import{j as e}from"./index-PfIWcNmh.js";import{d as i,R as n,L as h}from"./vendor-DwAweSyL.js";import{A as m}from"./icons-DSVWT7Xd.js";const x="1N2AtxAoDUdDTjACBKRRwXimp-Nwv84RlGgzYxOPtr0E",u="Sheet1!A2:C";async function p(){try{const a=`https://sheets.googleapis.com/v4/spreadsheets/${x}/values/${u}`,c=new URLSearchParams({key:"AIzaSyCeY9udrNN_kq0YiM7d6UPZMGCzv5Su4Ec"}),s=await fetch(`${a}?${c}`,{headers:{Accept:"application/json"}});if(!s.ok){const t=await s.json().catch(()=>null);throw console.error("Google Sheets API Error:",{status:s.status,statusText:s.statusText,errorData:t}),s.status===403?new Error("Access denied. Please check API key permissions."):s.status===404?new Error("Spreadsheet or range not found. Please verify the spreadsheet ID and range."):s.status===429?new Error("Rate limit exceeded. Please try again later."):new Error(`Failed to fetch data from Google Sheets (Status: ${s.status})`)}const r=await s.json();if(!r.values||!Array.isArray(r.values))throw console.error("Invalid data format received:",r),new Error("Invalid data format received from Google Sheets");return r.values.map(t=>({tableNumber:t[0]||"",status:t[1]||"",reservedBy:t[2]||""}))}catch(a){throw console.error("Error fetching table data:",a),a}}function N(){const{performerName:a,date:c}=i(),[s,r]=n.useState([]),[t,d]=n.useState("");return n.useEffect(()=>{async function o(){try{const l=await p();r(l)}catch(l){d("Failed to load tables"),console.error(l)}}o()},[]),e.jsx("div",{className:"min-h-screen bg-white text-black py-12",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsxs(h,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-black mb-8",children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),"Back to Events"]}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:a}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:c}),t&&e.jsx("div",{className:"text-red-500 mb-4",children:t}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"py-4 px-6 text-left",children:"Table Number"}),e.jsx("th",{className:"py-4 px-6 text-left",children:"Status"}),e.jsx("th",{className:"py-4 px-6 text-left",children:"Reserved By"})]})}),e.jsx("tbody",{children:s.map((o,l)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-6 font-medium",children:o.tableNumber}),e.jsx("td",{className:"py-4 px-6",children:o.status}),e.jsx("td",{className:"py-4 px-6",children:o.reservedBy})]},l))})]})})]})})}export{N as default};
